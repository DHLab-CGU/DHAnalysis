{
    "collab_server" : "",
    "contents" : "#' Select cases based on ICD code and the number of ICD codes\n#'\n#' This can be used to select qualified cases from factIcd data\n#' based on the ICD code searching criteria and number of ICD code\n#' per patients in the inout factIcd dataset. Return MemberID\n#'\n#' @import dplyr\n#' @param greplString ICD selection rules with grepl expression\n#' @param factIcd ICD dataset with at least 3 columns: \"MemberID\",\"Date\",\"ICD\"\n#' @param ICDNumber a threshold of number of ICD for case selection\n#' @export\n#' @examples\n#' selectCasesBasedOnFactIcdList('255|256',sampleIcdData,2)\n#'\nselectCasesBasedOnFactIcdList<-function(greplString,factIcd,ICDNumber){\n\n  MemCount<-factIcd %>% filter(grepl(greplString,ICD)) %>% group_by(Date,MemberID) %>%\n    summarise(nDate=n()) %>% arrange(desc(nDate))\n\n  Cases<-MemCount %>% group_by(MemberID) %>% summarise(nDiag=n()) %>% arrange(desc(nDiag))%>% filter(nDiag>1)\n\n  unique(Cases$MemberID)\n\n}\n",
    "created" : 1490238219846.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3216392104",
    "id" : "C444712E",
    "lastKnownWriteTime" : 1489733722,
    "last_content_update" : 1489733722,
    "path" : "~/GitHub/DHAnalysis/R/selectCasesBasedOnFactIcdList.R",
    "project_path" : "R/selectCasesBasedOnFactIcdList.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 5,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}